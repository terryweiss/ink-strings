/*! ink-strings - v0.1.0-2 - 2013-05-24 */
/**
 * base64.js Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp> Version: 1.0 LastModified: Dec 25 1999
 * 
 * @license This library is free. You can redistribute it and/or modify it.
 *  -- Mansano Izumo Copyright 1999 "free"
 *  -- kriskowal Kris Kowal modified to add support for Binary for Narwhal
 *  -- cadorn Christoph Dorn modified to make better use of binary module
 *  -- hannesw Hannes Wallnoefer
 *  -- Terry Weiss make it nodejs friendly, pass jshint:
 * @preserve
 */
/**
 * binary.js
 * 
 * @copyright Copyright 2012 Hannes Wallnoefer <hannes@helma.at>
 * @preserve
 */
/**
 * Portions of this library are subject to the Helma License
 * 
 * @license Helma License Notice The contents of this file are subject to the Helma License Version 2.0 (the "License").
 *          You may not use this file except in compliance with the License. A copy of the License is available at
 *          http://adele.helma.org/download/helma/license.txt Copyright 1998-2006 Helma Software. All Rights Reserved.
 *          $RCSfile: String.js,v $ $Author: zumbrunn $ $Revision: 8714 $ $Date: 2007-12-13 13:21:48 +0100 (Don, 13 Dez
 *          2007) $
 */
/**
 * Portions of this library are subject to the Apache license
 * 
 * Copyright 2008 Hannes Wallnoefer <hannes@helma.at>
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on
 * an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations under the License.
 * @preserve
 */
/**
 * sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license
 * 
 * @license Redistribution and use in source and binary forms, with or without modification, are permitted provided that
 *          the following conditions are met: Redistributions of source code must retain the above copyright notice,
 *          this list of conditions and the following disclaimer. Redistributions in binary form must reproduce the
 *          above copyright notice, this list of conditions and the following disclaimer in the documentation and/or
 *          other materials provided with the distribution. Neither the name of sprintf() for JavaScript nor the names
 *          of its contributors may be used to endorse or promote products derived from this software without specific
 *          prior written permission. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 *          ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
 *          AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR
 *          ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 *          TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 *          HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *          NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *          POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * EMAIL REGEX Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/
 * 
 * @license http://www.opensource.org/licenses/mit-license.php
 */
(function(){var t=function(e,r){var n=t.resolve(e,r||"/"),u=t.modules[n];if(!u)throw Error("Failed to resolve module "+e+", tried "+n);var i=t.cache[n],a=i?i.exports:u();return a};t.paths=[],t.modules={},t.cache={},t.extensions=[".js",".coffee",".json"],t._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},t.resolve=function(){return function(e,r){function n(e){if(e=o.normalize(e),t.modules[e])return e;for(var r=0;t.extensions.length>r;r++){var n=t.extensions[r];if(t.modules[e+n])return e+n}}function u(e){e=e.replace(/\/+$/,"");var r=o.normalize(e+"/package.json");if(t.modules[r]){var u=t.modules[r](),i=u.browserify;if("object"==typeof i&&i.main){var a=n(o.resolve(e,i.main));if(a)return a}else if("string"==typeof i){var a=n(o.resolve(e,i));if(a)return a}else if(u.main){var a=n(o.resolve(e,u.main));if(a)return a}}return n(e+"/index")}function i(t,e){for(var r=a(e),i=0;r.length>i;i++){var o=r[i],f=n(o+"/"+t);if(f)return f;var s=u(o+"/"+t);if(s)return s}var f=n(t);return f?f:void 0}function a(t){var e;e="/"===t?[""]:o.normalize(t).split("/");for(var r=[],n=e.length-1;n>=0;n--)if("node_modules"!==e[n]){var u=e.slice(0,n+1).join("/")+"/node_modules";r.push(u)}return r}if(r||(r="/"),t._core[e])return e;var o=t.modules.path();r=o.resolve("/",r);var f=r||"/";if(e.match(/^(?:\.\.?\/|\/)/)){var s=n(o.resolve(f,e))||u(o.resolve(f,e));if(s)return s}var l=i(e,f);if(l)return l;throw Error("Cannot find module '"+e+"'")}}(),t.alias=function(e,r){var n=t.modules.path(),u=null;try{u=t.resolve(e+"/package.json","/")}catch(i){u=t.resolve(e,"/")}for(var a=n.dirname(u),o=(Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e})(t.modules),f=0;o.length>f;f++){var s=o[f];if(s.slice(0,a.length+1)===a+"/"){var l=s.slice(a.length);t.modules[r+l]=t.modules[a+l]}else s===a&&(t.modules[r]=t.modules[a])}},function(){var e={},r="undefined"!=typeof window?window:{},n=!1;t.define=function(u,i){!n&&t.modules.__browserify_process&&(e=t.modules.__browserify_process(),n=!0);var a=t._core[u]?"":t.modules.path().dirname(u),o=function(e){var r=t(e,a),n=t.cache[t.resolve(e,a)];return n&&null===n.parent&&(n.parent=f),r};o.resolve=function(e){return t.resolve(e,a)},o.modules=t.modules,o.define=t.define,o.cache=t.cache;var f={id:u,filename:u,exports:{},loaded:!1,parent:null};t.modules[u]=function(){return t.cache[u]=f,i.call(f.exports,o,f,f.exports,a,u,e,r),f.loaded=!0,f.exports}}}(),t.define("path",function(t,e,r,n,u,i){function a(t,e){for(var r=[],n=0;t.length>n;n++)e(t[n],n,t)&&r.push(t[n]);return r}function o(t,e){for(var r=0,n=t.length;n>=0;n--){var u=t[n];"."==u?t.splice(n,1):".."===u?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var f=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;r.resolve=function(){for(var t="",e=!1,r=arguments.length;r>=-1&&!e;r--){var n=r>=0?arguments[r]:i.cwd();"string"==typeof n&&n&&(t=n+"/"+t,e="/"===n.charAt(0))}return t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},r.normalize=function(t){var e="/"===t.charAt(0),r="/"===t.slice(-1);return t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"),t||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(a(t,function(t){return t&&"string"==typeof t}).join("/"))},r.dirname=function(t){var e=f.exec(t)[1]||"",r=!1;return e?1===e.length||r&&3>=e.length&&":"===e.charAt(1)?e:e.substring(0,e.length-1):"."},r.basename=function(t,e){var r=f.exec(t)[2]||"";return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return f.exec(t)[3]||""},r.relative=function(t,e){function n(t){for(var e=0;t.length>e&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var u=n(t.split("/")),i=n(e.split("/")),a=Math.min(u.length,i.length),o=a,f=0;a>f;f++)if(u[f]!==i[f]){o=f;break}for(var s=[],f=o;u.length>f;f++)s.push("..");return s=s.concat(i.slice(o)),s.join("/")}}),t.define("__browserify_process",function(t,e,r,n,u,i){var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){if(t.source===window&&"browserify-tick"===t.data&&(t.stopPropagation(),r.length>0)){var e=r.shift();e()}},!0),function(t){r.push(t),window.postMessage("browserify-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.binding=function(e){if("evals"===e)return t("vm");throw Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";i.cwd=function(){return r},i.chdir=function(n){e||(e=t("path")),r=e.resolve(n,r)}}()}),t.define("/node_modules/lodash/package.json",function(t,e){e.exports={main:"./dist/lodash.js"}}),t.define("/node_modules/lodash/dist/lodash.js",function(t,e,r,n,u,i,a){(function(t){function n(e){function r(t){return t&&"object"==typeof t&&!dn(t)&&Qr.call(t,"__wrapped__")?t:new U(t)}function i(t){var e=t.length,r=e>=p;if(r)for(var n={},u=-1;e>++u;){var i=c+t[u];(n[i]||(n[i]=[])).push(t[u])}return function(e){if(r){var u=c+e;return n[u]&&Xe(n[u],e)>-1}return Xe(t,e)>-1}}function a(t){return t.charCodeAt(0)}function f(t,e){var r=t.index,n=e.index;if(t=t.criteria,e=e.criteria,t!==e){if(t>e||t===u)return 1;if(e>t||e===u)return-1}return n>r?-1:1}function N(t,e,r,n){function u(){var n=arguments,s=a?this:e;if(i||(t=e[o]),r.length&&(n=n.length?(n=hn.call(n),f?n.concat(r):r.concat(n)):r),this instanceof u){q.prototype=t.prototype,s=new q,q.prototype=null;var l=t.apply(s,n);return oe(l)?l:s}return t.apply(s,n)}var i=ae(t),a=!r,o=e;if(a){var f=n;r=e}else if(!i){if(!n)throw new Ur;e=t}return u}function L(t){return"\\"+I[t]}function M(t){return wn[t]}function U(t){this.__wrapped__=t}function q(){}function H(t){var e=!1;if(!t||rn.call(t)!=T)return e;var r=t.constructor;return(ae(r)?r instanceof r:!0)?(Cn(t,function(t,r){e=r}),e===!1||Qr.call(t,e)):e}function X(t,e,r){e||(e=0),r===u&&(r=t?t.length:0);for(var n=-1,i=r-e||0,a=Tr(0>i?0:i);i>++n;)a[n]=t[e+n];return a}function K(t){return xn[t]}function Z(t){return rn.call(t)==D}function G(t,e,n,i,a,o){var f=t;if("function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n){if(n=i===u?n:r.createCallback(n,i,1),f=n(f),f!==u)return f;f=t}var s=oe(f);if(s){var l=rn.call(f);if(!O[l])return f;var c=dn(f)}if(!s||!e)return s?c?X(f):An({},f):f;var p=mn[l];switch(l){case S:case k:return new p(+f);case B:case z:return new p(f);case R:return p(f.source,d.exec(f))}a||(a=[]),o||(o=[]);for(var h=a.length;h--;)if(a[h]==t)return o[h];return f=c?p(f.length):{},c&&(Qr.call(t,"index")&&(f.index=t.index),Qr.call(t,"input")&&(f.input=t.input)),a.push(t),o.push(f),(c?Ce:En)(t,function(t,r){f[r]=G(t,e,n,u,a,o)}),f}function W(t,e,r){return G(t,!0,e,r)}function J(t,e,n){var i;return e=r.createCallback(e,n),En(t,function(t,r,n){return e(t,r,n)?(i=r,!1):u}),i}function V(t){var e=[];return Cn(t,function(t,r){ae(t)&&e.push(r)}),e.sort()}function Q(t,e){return t?Qr.call(t,e):!1}function Y(t){for(var e=-1,r=bn(t),n=r.length,u={};n>++e;){var i=r[e];u[t[i]]=i}return u}function te(t){return t===!0||t===!1||rn.call(t)==S}function ee(t){return t?"object"==typeof t&&rn.call(t)==k:!1}function re(t){return t?1===t.nodeType:!1}function ne(t){var e=!0;if(!t)return e;var r=rn.call(t),n=t.length;return r==j||r==z||r==D||r==T&&"number"==typeof n&&ae(t.splice)?!n:(En(t,function(){return e=!1}),e)}function ue(t,e,n,i,a,o){var f=n===l;if("function"==typeof n&&!f){n=r.createCallback(n,i,2);var s=n(t,e);if(s!==u)return!!s}if(t===e)return 0!==t||1/t==1/e;var c=typeof t,p=typeof e;if(t===t&&(!t||"function"!=c&&"object"!=c)&&(!e||"function"!=p&&"object"!=p))return!1;if(null==t||null==e)return t===e;var h=rn.call(t),g=rn.call(e);if(h==D&&(h=T),g==D&&(g=T),h!=g)return!1;switch(h){case S:case k:return+t==+e;case B:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case R:case z:return t==Mr(e)}var v=h==j;if(!v){if(Qr.call(t,"__wrapped__ ")||Qr.call(e,"__wrapped__"))return ue(t.__wrapped__||t,e.__wrapped__||e,n,i,a,o);if(h!=T)return!1;var m=t.constructor,y=e.constructor;if(m!=y&&!(ae(m)&&m instanceof m&&ae(y)&&y instanceof y))return!1}a||(a=[]),o||(o=[]);for(var d=a.length;d--;)if(a[d]==t)return o[d]==e;var F=0;if(s=!0,a.push(t),o.push(e),v){if(d=t.length,F=e.length,s=F==t.length,!s&&!f)return s;for(;F--;){var b=d,w=e[F];if(f)for(;b--&&!(s=ue(t[b],w,n,i,a,o)););else if(!(s=ue(t[F],w,n,i,a,o)))break}return s}return Cn(e,function(e,r,f){return Qr.call(f,r)?(F++,s=Qr.call(t,r)&&ue(t[r],e,n,i,a,o)):u}),s&&!f&&Cn(t,function(t,e,r){return Qr.call(r,e)?s=--F>-1:u}),s}function ie(t){return an(t)&&!on(parseFloat(t))}function ae(t){return"function"==typeof t}function oe(t){return t?$[typeof t]:!1}function fe(t){return le(t)&&t!=+t}function se(t){return null===t}function le(t){return"number"==typeof t||rn.call(t)==B}function ce(t){return t?"object"==typeof t&&rn.call(t)==R:!1}function pe(t){return"string"==typeof t||rn.call(t)==z}function he(t){return t===u}function ge(t,e,n){var i=arguments,a=0,o=2;if(!oe(t))return t;if(n===l)var f=i[3],s=i[4],c=i[5];else s=[],c=[],"number"!=typeof n&&(o=i.length),o>3&&"function"==typeof i[o-2]?f=r.createCallback(i[--o-1],i[o--],2):o>2&&"function"==typeof i[o-1]&&(f=i[--o]);for(;o>++a;)(dn(i[a])?Ce:En)(i[a],function(e,r){var n,i,a=e,o=t[r];if(e&&((i=dn(e))||Dn(e))){for(var p=s.length;p--;)if(n=s[p]==e){o=c[p];break}if(!n){var h;f&&(a=f(o,e),(h=a!==u)&&(o=a)),h||(o=i?dn(o)?o:[]:Dn(o)?o:{}),s.push(e),c.push(o),h||(o=ge(o,e,l,f,s,c))}}else f&&(a=f(o,e),a===u&&(a=e)),a!==u&&(o=a);t[r]=o});return t}function ve(t,e,n){var u="function"==typeof e,i={};if(u)e=r.createCallback(e,n);else var a=Wr.apply(qr,hn.call(arguments,1));return Cn(t,function(t,r,n){(u?!e(t,r,n):0>Xe(a,r))&&(i[r]=t)}),i}function me(t){for(var e=-1,r=bn(t),n=r.length,u=Tr(n);n>++e;){var i=r[e];u[e]=[i,t[i]]}return u}function ye(t,e,n){var u={};if("function"!=typeof e)for(var i=-1,a=Wr.apply(qr,hn.call(arguments,1)),o=oe(t)?a.length:0;o>++i;){var f=a[i];f in t&&(u[f]=t[f])}else e=r.createCallback(e,n),Cn(t,function(t,r,n){e(t,r,n)&&(u[r]=t)});return u}function de(t){for(var e=-1,r=bn(t),n=r.length,u=Tr(n);n>++e;)u[e]=t[r[e]];return u}function Fe(t){for(var e=-1,r=Wr.apply(qr,hn.call(arguments,1)),n=r.length,u=Tr(n);n>++e;)u[e]=t[r[e]];return u}function be(t,e,r){var n=-1,i=t?t.length:0,a=!1;return r=(0>r?sn(0,i+r):r)||0,"number"==typeof i?a=(pe(t)?t.indexOf(e,r):Xe(t,e,r))>-1:En(t,function(t){return++n>=r?!(a=t===e):u}),a}function we(t,e,n){var u={};return e=r.createCallback(e,n),Ce(t,function(t,r,n){r=Mr(e(t,r,n)),Qr.call(u,r)?u[r]++:u[r]=1}),u}function xe(t,e,n){var u=!0;e=r.createCallback(e,n);var i=-1,a=t?t.length:0;if("number"==typeof a)for(;a>++i&&(u=!!e(t[i],i,t)););else En(t,function(t,r,n){return u=!!e(t,r,n)});return u}function Ae(t,e,n){var u=[];e=r.createCallback(e,n);var i=-1,a=t?t.length:0;if("number"==typeof a)for(;a>++i;){var o=t[i];e(o,i,t)&&u.push(o)}else En(t,function(t,r,n){e(t,r,n)&&u.push(t)});return u}function _e(t,e,n){e=r.createCallback(e,n);var i=-1,a=t?t.length:0;if("number"!=typeof a){var o;return En(t,function(t,r,n){return e(t,r,n)?(o=t,!1):u}),o}for(;a>++i;){var f=t[i];if(e(f,i,t))return f}}function Ce(t,e,n){var i=-1,a=t?t.length:0;if(e=e&&n===u?e:r.createCallback(e,n),"number"==typeof a)for(;a>++i&&e(t[i],i,t)!==!1;);else En(t,e);return t}function Ee(t,e,n){var u={};return e=r.createCallback(e,n),Ce(t,function(t,r,n){r=Mr(e(t,r,n)),(Qr.call(u,r)?u[r]:u[r]=[]).push(t)}),u}function De(t,e){var r=hn.call(arguments,2),n=-1,u="function"==typeof e,i=t?t.length:0,a=Tr("number"==typeof i?i:0);return Ce(t,function(t){a[++n]=(u?e:t[e]).apply(t,r)}),a}function je(t,e,n){var u=-1,i=t?t.length:0;if(e=r.createCallback(e,n),"number"==typeof i)for(var a=Tr(i);i>++u;)a[u]=e(t[u],u,t);else a=[],En(t,function(t,r,n){a[++u]=e(t,r,n)});return a}function Se(t,e,n){var u=-1/0,i=u;if(!e&&dn(t))for(var o=-1,f=t.length;f>++o;){var s=t[o];s>i&&(i=s)}else e=!e&&pe(t)?a:r.createCallback(e,n),Ce(t,function(t,r,n){var a=e(t,r,n);a>u&&(u=a,i=t)});return i}function ke(t,e,n){var u=1/0,i=u;if(!e&&dn(t))for(var o=-1,f=t.length;f>++o;){var s=t[o];i>s&&(i=s)}else e=!e&&pe(t)?a:r.createCallback(e,n),Ce(t,function(t,r,n){var a=e(t,r,n);u>a&&(u=a,i=t)});return i}function Ne(t,e){var r=-1,n=t?t.length:0;if("number"==typeof n)for(var u=Tr(n);n>++r;)u[r]=t[r][e];return u||je(t,e)}function Be(t,e,n,u){if(!t)return n;var i=3>arguments.length;e=r.createCallback(e,u,4);var a=-1,o=t.length;if("number"==typeof o)for(i&&(n=t[++a]);o>++a;)n=e(n,t[a],a,t);else En(t,function(t,r,u){n=i?(i=!1,t):e(n,t,r,u)});return n}function Te(t,e,n,u){var i=t,a=t?t.length:0,o=3>arguments.length;if("number"!=typeof a){var f=bn(t);a=f.length}return e=r.createCallback(e,u,4),Ce(t,function(t,r,u){r=f?f[--a]:--a,n=o?(o=!1,i[r]):e(n,i[r],r,u)}),n}function Re(t,e,n){return e=r.createCallback(e,n),Ae(t,function(t,r,n){return!e(t,r,n)})}function ze(t){var e=-1,r=t?t.length:0,n=Tr("number"==typeof r?r:0);return Ce(t,function(t){var r=Jr(pn()*(++e+1));n[e]=n[r],n[r]=t}),n}function Oe(t){var e=t?t.length:0;return"number"==typeof e?e:bn(t).length}function $e(t,e,n){var u;e=r.createCallback(e,n);var i=-1,a=t?t.length:0;if("number"==typeof a)for(;a>++i&&!(u=e(t[i],i,t)););else En(t,function(t,r,n){return!(u=e(t,r,n))});return!!u}function Ie(t,e,n){var u=-1,i=t?t.length:0,a=Tr("number"==typeof i?i:0);for(e=r.createCallback(e,n),Ce(t,function(t,r,n){a[++u]={criteria:e(t,r,n),index:u,value:t}}),i=a.length,a.sort(f);i--;)a[i]=a[i].value;return a}function Pe(t){return t&&"number"==typeof t.length?X(t):de(t)}function Le(t){for(var e=-1,r=t?t.length:0,n=[];r>++e;){var u=t[e];u&&n.push(u)}return n}function Me(t){for(var e=-1,r=t?t.length:0,n=Wr.apply(qr,hn.call(arguments,1)),u=i(n),a=[];r>++e;){var o=t[e];u(o)||a.push(o)}return a}function Ue(t,e,n){var u=-1,i=t?t.length:0;for(e=r.createCallback(e,n);i>++u;)if(e(t[u],u,t))return u;return-1}function qe(t,e,n){if(t){var u=0,i=t.length;if("number"!=typeof e&&null!=e){var a=-1;for(e=r.createCallback(e,n);i>++a&&e(t[a],a,t);)u++}else if(u=e,null==u||n)return t[0];return X(t,0,ln(sn(0,u),i))}}function He(t,e,n,u){var i=-1,a=t?t.length:0,o=[];for("boolean"!=typeof e&&null!=e&&(u=n,n=e,e=!1),null!=n&&(n=r.createCallback(n,u));a>++i;){var f=t[i];n&&(f=n(f,i,t)),dn(f)?Yr.apply(o,e?f:He(f)):o.push(f)}return o}function Xe(t,e,r){var n=-1,u=t?t.length:0;if("number"==typeof r)n=(0>r?sn(0,u+r):r||0)-1;else if(r)return n=Qe(t,e),t[n]===e?n:-1;for(;u>++n;)if(t[n]===e)return n;return-1}function Ke(t,e,n){if(!t)return[];var u=0,i=t.length;if("number"!=typeof e&&null!=e){var a=i;for(e=r.createCallback(e,n);a--&&e(t[a],a,t);)u++}else u=null==e||n?1:e||u;return X(t,0,ln(sn(0,i-u),i))}function Ze(t){var e=arguments,r=e.length,n={0:{}},u=-1,a=t?t.length:0,o=a>=p,f=[],s=f;t:for(;a>++u;){var l=t[u];if(o)var h=c+l,g=n[0][h]?!(s=n[0][h]):s=n[0][h]=[];if(g||0>Xe(s,l)){o&&s.push(l);for(var v=r;--v;)if(!(n[v]||(n[v]=i(e[v])))(l))continue t;f.push(l)}}return f}function Ge(t,e,n){if(t){var u=0,i=t.length;if("number"!=typeof e&&null!=e){var a=i;for(e=r.createCallback(e,n);a--&&e(t[a],a,t);)u++}else if(u=e,null==u||n)return t[i-1];return X(t,sn(0,i-u))}}function We(t,e,r){var n=t?t.length:0;for("number"==typeof r&&(n=(0>r?sn(0,n+r):ln(r,n-1))+1);n--;)if(t[n]===e)return n;return-1}function Je(t,e,r){t=+t||0,r=+r||1,null==e&&(e=t,t=0);for(var n=-1,u=sn(0,Zr((e-t)/r)),i=Tr(u);u>++n;)i[n]=t,t+=r;return i}function Ve(t,e,n){if("number"!=typeof e&&null!=e){var u=0,i=-1,a=t?t.length:0;for(e=r.createCallback(e,n);a>++i&&e(t[i],i,t);)u++}else u=null==e||n?1:sn(0,e);return X(t,u)}function Qe(t,e,n,u){var i=0,a=t?t.length:i;for(n=n?r.createCallback(n,u,1):wr,e=n(e);a>i;){var o=i+a>>>1;e>n(t[o])?i=o+1:a=o}return i}function Ye(t){return dn(t)||(arguments[0]=t?hn.call(t):qr),tr(Wr.apply(qr,arguments))}function tr(t,e,n,u){var i=-1,a=t?t.length:0,o=[],f=o;"boolean"!=typeof e&&null!=e&&(u=n,n=e,e=!1);var s=!e&&a>=p;if(s)var l={};for(null!=n&&(f=[],n=r.createCallback(n,u));a>++i;){var h=t[i],g=n?n(h,i,t):h;if(s)var v=c+g,m=l[v]?!(f=l[v]):f=l[v]=[];(e?!i||f[f.length-1]!==g:m||0>Xe(f,g))&&((n||s)&&f.push(g),o.push(h))}return o}function er(t){for(var e=-1,r=t?t.length:0,n=r?Se(Ne(t,"length")):0,u=Tr(n);r>++e;)for(var i=-1,a=t[e];n>++i;)(u[i]||(u[i]=Tr(r)))[e]=a[i];return u}function rr(t){return Me(t,hn.call(arguments,1))}function nr(t){for(var e=-1,r=t?Se(Ne(arguments,"length")):0,n=Tr(r);r>++e;)n[e]=Ne(arguments,e);return n}function ur(t,e){for(var r=-1,n=t?t.length:0,u={};n>++r;){var i=t[r];e?u[i]=e[r]:u[i[0]]=i[1]}return u}function ir(t,e){return 1>t?e():function(){return 1>--t?e.apply(this,arguments):u}}function ar(t,e){return yn.fastBind||nn&&arguments.length>2?nn.call.apply(nn,arguments):N(t,e,hn.call(arguments,2))}function or(t){for(var e=arguments.length>1?Wr.apply(qr,hn.call(arguments,1)):V(t),r=-1,n=e.length;n>++r;){var u=e[r];t[u]=ar(t[u],t)}return t}function fr(t,e){return N(t,e,hn.call(arguments,2),l)}function sr(){var t=arguments;return function(){for(var e=arguments,r=t.length;r--;)e=[t[r].apply(this,e)];return e[0]}}function lr(t,e,r){if(null==t)return wr;var n=typeof t;if("function"!=n){if("object"!=n)return function(e){return e[t]};var i=bn(t);return function(e){for(var r=i.length,n=!1;r--&&(n=ue(e[i[r]],t[i[r]],l)););return n}}return e!==u?1===r?function(r){return t.call(e,r)}:2===r?function(r,n){return t.call(e,r,n)}:4===r?function(r,n,u,i){return t.call(e,r,n,u,i)}:function(r,n,u){return t.call(e,r,n,u)}:t}function cr(t,e,r){function n(){i=f=null,s&&(a=t.apply(o,u))}var u,i,a,o,f,s=!0;if(r===!0){var l=!0;s=!1}else r&&$[typeof r]&&(l=r.leading,s="trailing"in r?r.trailing:s);return function(){return u=arguments,o=this,Gr(f),!i&&l?(i=!0,a=t.apply(o,u)):f=en(n,e),a}}function pr(t){var e=hn.call(arguments,1);return en(function(){t.apply(u,e)},1)}function hr(t,e){var r=hn.call(arguments,2);return en(function(){t.apply(u,r)},e)}function gr(t,e){var r={};return function(){var n=c+(e?e.apply(this,arguments):arguments[0]);return Qr.call(r,n)?r[n]:r[n]=t.apply(this,arguments)}}function vr(t){var e,r;return function(){return e?r:(e=!0,r=t.apply(this,arguments),t=null,r)}}function mr(t){return N(t,hn.call(arguments,1))}function yr(t){return N(t,hn.call(arguments,1),null,l)}function dr(t,e,r){function n(){o=null,l&&(f=new zr,i=t.apply(a,u))}var u,i,a,o,f=0,s=!0,l=!0;return r===!1?s=!1:r&&$[typeof r]&&(s="leading"in r?r.leading:s,l="trailing"in r?r.trailing:l),function(){var r=new zr;o||s||(f=r);var l=e-(r-f);return u=arguments,a=this,0>=l?(Gr(o),o=null,f=r,i=t.apply(a,u)):o||(o=en(n,l)),i}}function Fr(t,e){return function(){var r=[t];return Yr.apply(r,arguments),e.apply(this,r)}}function br(t){return null==t?"":Mr(t).replace(A,M)}function wr(t){return t}function xr(t){Ce(V(t),function(e){var n=r[e]=t[e];r.prototype[e]=function(){var t=this.__wrapped__,e=[t];Yr.apply(e,arguments);var u=n.apply(r,e);return t&&"object"==typeof t&&t==u?this:new U(u)}})}function Ar(){return e._=Xr,this}function _r(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e&&(e=t,t=0),t+Jr(pn()*((+e||0)-t+1))}function Cr(t,e){var r=t?t[e]:u;return ae(r)?t[e]():r}function Er(t,e,n){var i=r.templateSettings;t||(t=""),n=_n({},n,i);var a,o=_n({},n.imports,i.imports),f=bn(o),s=de(o),l=0,c=n.interpolate||x,p="__p += '",m=Lr((n.escape||x).source+"|"+c.source+"|"+(c===F?y:x).source+"|"+(n.evaluate||x).source+"|$","g");t.replace(m,function(e,r,n,u,i,o){return n||(n=u),p+=t.slice(l,o).replace(_,L),r&&(p+="' +\n__e("+r+") +\n'"),i&&(a=!0,p+="';\n"+i+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=o+e.length,e}),p+="';\n";var d=n.variable,b=d;b||(d="obj",p="with ("+d+") {\n"+p+"\n}\n"),p=(a?p.replace(h,""):p).replace(g,"$1").replace(v,"$1;"),p="function("+d+") {\n"+(b?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var w="\n/*\n//@ sourceURL="+(n.sourceURL||"/lodash/template/source["+E++ +"]")+"\n*/";try{var A=Or(f,"return "+p+w).apply(u,s)}catch(C){throw C.source=p,C}return e?A(e):(A.source=p,A)}function Dr(t,e,n){t=(t=+t)>-1?t:0;var u=-1,i=Tr(t);for(e=r.createCallback(e,n,1);t>++u;)i[u]=e(u);return i}function jr(t){return null==t?"":Mr(t).replace(m,K)}function Sr(t){var e=++s;return Mr(null==t?"":t)+e}function kr(t,e){return e(t),t}function Nr(){return Mr(this.__wrapped__)}function Br(){return this.__wrapped__}e=e?P.defaults(t.Object(),e,P.pick(t,C)):t;var Tr=e.Array,Rr=e.Boolean,zr=e.Date,Or=e.Function,$r=e.Math,Ir=e.Number,Pr=e.Object,Lr=e.RegExp,Mr=e.String,Ur=e.TypeError,qr=Tr(),Hr=Pr(),Xr=e._,Kr=Lr("^"+Mr(Hr.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Zr=$r.ceil,Gr=e.clearTimeout,Wr=qr.concat,Jr=$r.floor,Vr=Kr.test(Vr=Pr.getPrototypeOf)&&Vr,Qr=Hr.hasOwnProperty,Yr=qr.push,tn=e.setImmediate,en=e.setTimeout,rn=Hr.toString,nn=Kr.test(nn=rn.bind)&&nn,un=Kr.test(un=Tr.isArray)&&un,an=e.isFinite,on=e.isNaN,fn=Kr.test(fn=Pr.keys)&&fn,sn=$r.max,ln=$r.min,cn=e.parseInt,pn=$r.random,hn=qr.slice,gn=Kr.test(e.attachEvent),vn=nn&&!/\n|true/.test(nn+gn),mn={};mn[j]=Tr,mn[S]=Rr,mn[k]=zr,mn[T]=Pr,mn[B]=Ir,mn[R]=Lr,mn[z]=Mr;var yn=r.support={};yn.fastBind=nn&&!vn,r.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:F,variable:"",imports:{_:r}},U.prototype=r.prototype;var dn=un,Fn=function(t){var e,r=t,n=[];if(!r)return n;if(!$[typeof t])return n;for(e in r)Qr.call(r,e)&&n.push(e);return n},bn=fn?function(t){return oe(t)?fn(t):[]}:Fn,wn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xn=Y(wn),An=function(t,e,n){var u,i=t,a=i;if(!i)return a;var o=arguments,f=0,s="number"==typeof n?2:o.length;if(s>3&&"function"==typeof o[s-2])var l=r.createCallback(o[--s-1],o[s--],2);else s>2&&"function"==typeof o[s-1]&&(l=o[--s]);for(;s>++f;)if(i=o[f],i&&$[typeof i]){var c=i.length;if(u=-1,dn(i))for(;c>++u;)a[u]=l?l(a[u],i[u]):i[u];else for(var p=-1,h=$[typeof i]?bn(i):[],c=h.length;c>++p;)u=h[p],a[u]=l?l(a[u],i[u]):i[u]}return a},_n=function(t,e,r){var n,i=t,a=i;if(!i)return a;for(var o=arguments,f=0,s="number"==typeof r?2:o.length;s>++f;)if(i=o[f],i&&$[typeof i]){var l=i.length;if(n=-1,dn(i))for(;l>++n;)a[n]===u&&(a[n]=i[n]);else for(var c=-1,p=$[typeof i]?bn(i):[],l=p.length;l>++c;)n=p[c],a[n]===u&&(a[n]=i[n])}return a},Cn=function(t,e,n){var i,a=t,o=a;if(!a)return o;if(!$[typeof a])return o;e=e&&n===u?e:r.createCallback(e,n);for(i in a)if(e(a[i],i,t)===!1)return o;return o},En=function(t,e,n){var i,a=t,o=a;if(!a)return o;if(!$[typeof a])return o;e=e&&n===u?e:r.createCallback(e,n);for(var f=-1,s=$[typeof a]?bn(a):[],l=s.length;l>++f;)if(i=s[f],e(a[i],i,t)===!1)return o;return o},Dn=function(t){if(!t||rn.call(t)!=T)return!1;var e=t.valueOf,r="function"==typeof e&&(r=Vr(e))&&Vr(r);return r?t==r||Vr(t)==r:H(t)},jn=Ae;vn&&o&&"function"==typeof tn&&(pr=ar(tn,e));var Sn=8==cn(b+"08")?cn:function(t,e){return cn(pe(t)?t.replace(w,""):t,e||0)};return r.after=ir,r.assign=An,r.at=Fe,r.bind=ar,r.bindAll=or,r.bindKey=fr,r.compact=Le,r.compose=sr,r.countBy=we,r.createCallback=lr,r.debounce=cr,r.defaults=_n,r.defer=pr,r.delay=hr,r.difference=Me,r.filter=Ae,r.flatten=He,r.forEach=Ce,r.forIn=Cn,r.forOwn=En,r.functions=V,r.groupBy=Ee,r.initial=Ke,r.intersection=Ze,r.invert=Y,r.invoke=De,r.keys=bn,r.map=je,r.max=Se,r.memoize=gr,r.merge=ge,r.min=ke,r.omit=ve,r.once=vr,r.pairs=me,r.partial=mr,r.partialRight=yr,r.pick=ye,r.pluck=Ne,r.range=Je,r.reject=Re,r.rest=Ve,r.shuffle=ze,r.sortBy=Ie,r.tap=kr,r.throttle=dr,r.times=Dr,r.toArray=Pe,r.union=Ye,r.uniq=tr,r.unzip=er,r.values=de,r.where=jn,r.without=rr,r.wrap=Fr,r.zip=nr,r.zipObject=ur,r.collect=je,r.drop=Ve,r.each=Ce,r.extend=An,r.methods=V,r.object=ur,r.select=Ae,r.tail=Ve,r.unique=tr,xr(r),r.clone=G,r.cloneDeep=W,r.contains=be,r.escape=br,r.every=xe,r.find=_e,r.findIndex=Ue,r.findKey=J,r.has=Q,r.identity=wr,r.indexOf=Xe,r.isArguments=Z,r.isArray=dn,r.isBoolean=te,r.isDate=ee,r.isElement=re,r.isEmpty=ne,r.isEqual=ue,r.isFinite=ie,r.isFunction=ae,r.isNaN=fe,r.isNull=se,r.isNumber=le,r.isObject=oe,r.isPlainObject=Dn,r.isRegExp=ce,r.isString=pe,r.isUndefined=he,r.lastIndexOf=We,r.mixin=xr,r.noConflict=Ar,r.parseInt=Sn,r.random=_r,r.reduce=Be,r.reduceRight=Te,r.result=Cr,r.runInContext=n,r.size=Oe,r.some=$e,r.sortedIndex=Qe,r.template=Er,r.unescape=jr,r.uniqueId=Sr,r.all=xe,r.any=$e,r.detect=_e,r.foldl=Be,r.foldr=Te,r.include=be,r.inject=Be,En(r,function(t,e){r.prototype[e]||(r.prototype[e]=function(){var e=[this.__wrapped__];return Yr.apply(e,arguments),t.apply(r,e)})}),r.first=qe,r.last=Ge,r.take=qe,r.head=qe,En(r,function(t,e){r.prototype[e]||(r.prototype[e]=function(e,r){var n=t(this.__wrapped__,e,r);return null==e||r&&"function"!=typeof e?n:new U(n)})}),r.VERSION="1.2.1",r.prototype.toString=Nr,r.prototype.value=Br,r.prototype.valueOf=Br,Ce(["join","pop","shift"],function(t){var e=qr[t];r.prototype[t]=function(){return e.apply(this.__wrapped__,arguments)}}),Ce(["push","reverse","sort","unshift"],function(t){var e=qr[t];r.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),Ce(["concat","slice","splice"],function(t){var e=qr[t];r.prototype[t]=function(){return new U(e.apply(this.__wrapped__,arguments))}}),r}var u,i="object"==typeof r&&r,o="object"==typeof e&&e&&e.exports==i&&e,f="object"==typeof a&&a;(f.global===f||f.window===f)&&(t=f);var s=0,l={},c=+new Date+"",p=200,h=/\b__p \+= '';/g,g=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/&(?:amp|lt|gt|quot|#39);/g,y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,d=/\w*$/,F=/<%=([\s\S]+?)%>/g,b=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",w=RegExp("^["+b+"]*0+(?=.$)"),x=/($^)/,A=/[&<>"']/g,_=/['\n\r\t\u2028\u2029\\]/g,C=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],E=0,D="[object Arguments]",j="[object Array]",S="[object Boolean]",k="[object Date]",N="[object Function]",B="[object Number]",T="[object Object]",R="[object RegExp]",z="[object String]",O={};O[N]=!1,O[D]=O[j]=O[S]=O[k]=O[B]=O[T]=O[R]=O[z]=!0;var $={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},I={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},P=n();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t._=P,define(function(){return P})):i&&!i.nodeType?o?(o.exports=P)._=P:i._=P:t._=P})(this)}),t.define("/src/base64.js",function(t,e,r){"use strict";var n=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],i="=".charCodeAt(0),a=t("./binary"),o=a.Binary;a.ByteString;var f=a.ByteArray;r.encode=function(t,e){var r,u,s;e=e||"utf8";for(var l=t instanceof o?t:a.toByteString(t,e),c=l.length,p=new f(4*(c+(3-c%3)%3)/3),h=0,g=0;c>h;){if(r=l.buffer[h++],h===c){p.buffer[g++]=n[r>>2],p.buffer[g++]=n[(3&r)<<4],p.buffer[g++]=i,p.buffer[g++]=i;break}if(u=l.buffer[h++],h===c){p.buffer[g++]=n[r>>2],p.buffer[g++]=n[(3&r)<<4|(240&u)>>4],p.buffer[g++]=n[(15&u)<<2],p.buffer[g++]=i;break}s=l.buffer[h++],p.buffer[g++]=n[r>>2],p.buffer[g++]=n[(3&r)<<4|(240&u)>>4],p.buffer[g++]=n[(15&u)<<2|(192&s)>>6],p.buffer[g++]=n[63&s]}return p.length=g,p.decodeToString("ascii")},r.decode=function(t,e){var r,n,s,l,c=t instanceof o?t:a.toByteString(t,"ascii"),p=c.length,h=new f(3*p/4),g=0,v=0;t:for(;p>g;){do r=u[c.buffer[g++]];while(p>g&&-1===r);if(-1===r)break;do n=u[c.buffer[g++]];while(p>g&&-1===n);if(-1===n)break;h.buffer[v++]=r<<2|(48&n)>>4;do{if(s=c.buffer[g++],s===i)break t;s=u[s]}while(p>g&&-1===s);if(-1===s)break;h.buffer[v++]=(15&n)<<4|(60&s)>>2;do{if(l=c.buffer[g++],l===i)break t;l=u[l]}while(p>g&&-1===l);if(-1===l)break;h.buffer[v++]=(3&s)<<6|l}return h.length=v,e=e||"utf8","raw"===e?h:h.decodeToString(e)}}),t.define("/src/binary.js",function(t,e,r){"use strict";var n=r.encodings={"US-ASCII":"ascii","UTF-8":"utf8","ISO-10646-UCS-2":"ucs2"},u=r.Binary=function(){},i=r.ByteArray=function(){if(!(this instanceof i)){if(0===arguments.length)return new i;if(1===arguments.length)return new i(arguments[0]);if(2===arguments.length)return new i(arguments[0],arguments[1])}if(0===arguments.length)this.buffer=new Buffer(0);else if(1===arguments.length&&"number"==typeof arguments[0])this.buffer=new Buffer(arguments[0]),this.buffer.fill(0);else if(2===arguments.length&&"number"==typeof arguments[0]&&"boolean"==typeof arguments[1])this.buffer=new Buffer(arguments[0]),arguments[1]===!0&&this.buffer.fill(0);else if(1===arguments.length&&(arguments[0]instanceof a||arguments[0]instanceof i)){var t=arguments[0];this.buffer=new Buffer(t.length),t.buffer.copy(this.buffer)}else if(1===arguments.length&&Array.isArray(arguments[0]))this.buffer=new Buffer(arguments[0]);else if(1===arguments.length&&arguments[0]instanceof Buffer){var e=arguments[0];this.buffer=new Buffer(e.length),e.copy(this.buffer)}else if((1===arguments.length||2===arguments.length&&void 0===arguments[1])&&"string"==typeof arguments[0])this.buffer=new Buffer(arguments[0]);else{if(2!==arguments.length||"string"!=typeof arguments[0]||"string"!=typeof arguments[1])throw Error("Illegal arguments to ByteArray constructor");this.buffer=new Buffer(arguments[0],n[arguments[1]])}return this};i.prototype=new u,Object.defineProperty(i.prototype,"length",{get:function(){return this.buffer.length},set:function(t){var e=new Buffer(t);t=Math.min(this.buffer.length,t),this.buffer.copy(e,0,0,t),e.fill(0,t),this.buffer=e}});var a=r.ByteString=function(){if(!(this instanceof a)){if(0===arguments.length)return new a;if(1===arguments.length)return new a(arguments[0]);if(2===arguments.length)return new a(arguments[0],arguments[1])}if(0===arguments.length)this.buffer=new Buffer(0);else{if(1===arguments.length&&arguments[0]instanceof a)return arguments[0];if(1===arguments.length&&arguments[0]instanceof i){var t=arguments[0];this.buffer=new Buffer(t.length),t.buffer.copy(this.buffer)}else if(1===arguments.length&&arguments[0]instanceof Buffer){var e=arguments[0];this.buffer=new Buffer(e.length),e.copy(this.buffer)}else if(1===arguments.length&&Array.isArray(arguments[0]))this.buffer=new Buffer(arguments[0]);else if((1===arguments.length||2===arguments.length&&void 0===arguments[1])&&"string"==typeof arguments[0])this.buffer=new Buffer(arguments[0]);else{if(2!==arguments.length||"string"!=typeof arguments[0]||"string"!=typeof arguments[1])throw Error("Illegal arguments to ByteString constructor"+JSON.stringify(arguments));this.buffer=new Buffer(arguments[0],n[arguments[1]])}}return this};a.prototype=new u,Object.defineProperty(a.prototype,"length",{get:function(){return this.buffer.length},set:function(){}}),r.toByteArray=function(t,e){return e=e||"UTF-8",new i(t+"",e)},r.toByteString=function(t,e){return e=e||"UTF-8",new a(t+"",e)},i.prototype.reverse=function(){for(var t=Math.floor(this.length/2),e=this.length-1,r=0;t>r;r++){var n=this.buffer[r];this.buffer[r]=this.buffer[e-r],this.buffer[e-r]=n}return this};var o=function(t,e){return t-e};i.prototype.sort=function(t){var e=this.toArray();arguments.length?e.sort(t):e.sort(o);for(var r=0;e.length>r;r++)this.set(r,e[r])},i.prototype.forEach=function(t,e){for(var r=0,n=this.length;n>r;r++)t.apply(e,[this.get(r),r,this])},i.prototype.filter=function(t,e){for(var r=new i(this.length),n=0,u=this.length;u>n;n++){var a=this.get(n);t.apply(e,[a,n,this])&&r.push(a)
}return r},i.prototype.some=function(t,e){for(var r=0,n=this.length;n>r;r++)if(t.apply(e,[this.get(r),r,this]))return!0;return!1},i.prototype.every=function(t,e){for(var r=0,n=this._length;n>r;r++)if(!t.apply(e,[this.get(r),r,this]))return!1;return!0},i.prototype.map=function(t,e){for(var r=new i(this.length),n=0,u=this.length;u>n;n++)r.set(n,t.apply(e,[this.get(n),n,this]));return r},i.prototype.reduce=function(t,e){for(var r=e,n=0,u=this.length;u>n;n++)r=t(r,this.get(n),n,this);return r},i.prototype.reduceRight=function(t,e){for(var r=e,n=this.length-1;n>0;n--)r=t(r,this.get(n),n,this);return r},i.prototype.pop=function(){if(0===this.length)return void 0;var t=this.buffer[this.length-1];return this.length--,t},i.prototype.push=function(){var t,e=this.length+=t=arguments.length;try{for(var r=0;t>r;r++)this.set(e-t+r,arguments[r])}catch(n){throw this.length-=t,n}return e},i.prototype.shift=function(){if(0===this.length)return void 0;var t=this.buffer[0],e=new Buffer(this.length-1);return this.buffer.copy(e,0,1),this.buffer=e,t},i.prototype.unshift=function(){var t=this.slice();this.length=0;try{return this.push.apply(this,arguments),this.push.apply(this,t.toArray()),this.length}catch(e){throw this.length=t.length,t.buffer.copy(this.buffer),e}},i.prototype.splice=function(t,e){if(void 0!==t){0>t&&(t+=this.length),void 0===e&&(e=this.length-t);var r=t+e,n=this.slice(t,r),u=this.slice(r),i=Array.prototype.slice.call(arguments,2);return this.length=t,this.push.apply(this,i),this.push.apply(this,u.toArray()),n}},i.prototype.copy=function(t,e,r,n){r.length=n+(e-t),this.buffer.copy(r.buffer,n,t,e)},i.prototype.slice=function(){return new i(a.prototype.slice.apply(this,arguments))},i.prototype.concat=function(){for(var t=[this],e=this.length,r=0;arguments.length>r;r++)for(var n=Array.isArray(arguments[r])?arguments[r]:[arguments[r]],u=0;n.length>u;u++){var o=n[u];if(!(o instanceof a||o instanceof i))throw"Arguments to ByteArray.concat() must be ByteStrings, ByteArrays, or Arrays of those.";t.push(o),e+=o.length}var f=new i(e),s=0;return t.forEach(function(t){t.buffer.copy(f.buffer,s),s+=t.length}),f},i.prototype.toByteArray=function(){return new i(this.buffer)},i.prototype.toByteString=function(){return new a(this.buffer)},i.prototype.toString=function(t){return t?this.decodeToString(t):"[ByteArray "+this.length+"]"},i.prototype.split=function(){for(var t=a.prototype.split.apply(this.toByteString(),arguments),e=0;t.length>e;e++)t[e]=new i(t[e]);return t},a.prototype.toByteArray=function(){return new i(this)},a.prototype.toByteString=function(){return this},u.prototype.toArray=function(t){return t?Array.prototype.map.call(this.buffer.toString(n[t]),function(t){return t.charCodeAt(0)}):Array.prototype.slice.call(this.buffer,0)},a.prototype.toString=function(){return"[ByteString "+this.buffer.length+"]"},u.prototype.decodeToString=function(t){return this.buffer.toString(n[t])},u.prototype.indexOf=function(t,e,r){var n=a.prototype.slice.apply(this,[e,r]).toArray(),u=n.indexOf(t);return 0>u?-1:u+(e||0)},u.prototype.lastIndexOf=function(t,e,r){var n=a.prototype.slice.apply(this,[e,r]).toArray(),u=n.lastIndexOf(t);return 0>u?-1:u+(e||0)},a.prototype.byteAt=a.prototype.charAt=function(t){return 0>t||t>=this.buffer.length?new a:new a([this.buffer[t]])},i.prototype.byteAt=function(t){return 0>t||t>=this.buffer.length?new i:new i([this.buffer[t]])},u.prototype.get=a.prototype.charCodeAt=function(t){return this.buffer[t]},i.prototype.set=function(t,e){this.buffer[t]=e},a.prototype.copy=function(t,e,r,n){r.length=n+(e-t),this.buffer.copy(r.buffer,n,t,e)},a.prototype.split=function(t,e){e=e||{};var r=e.includeDelimiter||!1;Array.isArray(t)||(t=[t]),t=t.map(function(t){return"number"==typeof t&&(t=[t]),new a(t)});var n=[],u=0,i=0;t:for(;this.length>i;){e:for(var o=0;t.length>o;o++){var f=t[o];if(!f.length){i=this.length;continue t}for(var s=0;f.length>s;s++)if(i+s>this.length||this.buffer[i+s]!==f.buffer[s])continue e;n.push(this.slice(u,i)),r&&n.push(this.slice(i,i+f.length)),u=i+=f.length;continue t}i++}return i>u&&n.push(this.slice(u,i)),n},a.prototype.slice=function(t,e){t&&"number"==typeof t||(t=0);var r=this.buffer.length;0>t&&(t+=r),e||(e=r),"number"!=typeof e&&(e=t),0>e&&(e+=r),0>t&&(t=0),t>e&&(e=t),t>r&&(t=r),e>r&&(e=r);var n=new Buffer(e-t);return this.buffer.copy(n,0,t,e),new a(n)},a.prototype.concat=function(){for(var t=[this],e=this.length,r=0;arguments.length>r;r++)for(var n=Array.isArray(arguments[r])?arguments[r]:[arguments[r]],u=0;n.length>u;u++){var o=n[u];if(!(o instanceof a||o instanceof i))throw"Arguments to ByteString.concat() must be ByteStrings, ByteArrays, or Arrays of those.";t.push(o),e+=o.length}var f=new Buffer(e),s=0;return t.forEach(function(t){t.buffer.copy(f,s),s+=t.length}),new a(f)}}),t.define("/src/generators.js",function(t,e,r){"use strict";r.repeat=function(t,e,r){r=r||"";for(var n=[],u=0;e>u;u++)n[u]=t;return n.join(r)},r.sorter=function(t,e){return e||(e=1),function(r,n){var u=((r[t]||"")+"").toLowerCase(),i=((n[t]||"")+"").toLowerCase();return u>i?e:i>u?-1*e:0}},r.compose=function(){return Array.join(arguments,"")},r.random=function(t,e){var r;if(2===e)return r=Math.random()*Math.pow(10,t),Math.floor(r);for(var n="",u=0;t>u;u++)r=Math.floor(36*Math.random()),1===e&&(r=2>r?r+2:r,r=21===r?22:r,r=24===r?25:r),n+=10>r?r+"":String.fromCharCode(r+87);return n},r.tempKey=r.uiid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),r="x"===t?e:8|3&e;return r.toString(16)})}}),t.define("/src/html.js",function(t,e,r){"use strict";var n=t("./patterns");r.unescapeHTML=function(t){return null===t?"":(t+"").replace(/\&([^;]+);/g,function(t,e){var r;return e in n.escapeChars?n.escapeChars[e]:(r=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(r[1],16)):(r=e.match(/^#(\d+)$/))?String.fromCharCode(~~r[1]):t})},r.entitize=function(t){for(var e=[],r=0;t.length>r;r++)e.push("&#",""+t.charCodeAt(r),";");return e.join("")},r.stripTags=function(t){return t.replace(/<\/?[^>]+>/gi,"")},r.escapeHtml=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}}),t.define("/src/patterns.js",function(t,e,r){r.URLPATTERN=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,r.HEXPATTERN=/[^a-fA-F0-9]/,r.ANUMPATTERN=/[^a-zA-Z0-9]/,r.APATTERN=/[^a-zA-Z]/,r.NUMPATTERN=/[^0-9]/,r.EMAILPATTERN=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,r.CAPITALSPATTERN=/([A-Z]+)/g,r.SEPARATORS=/[\-_\s](.)/g,r.LINEBREAKS=/[\n|\r]/g,r.BRTAGS=/<[w]?br *\/?>/g,r.escapeChars={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},r.REGEXCHARS=/([.*+?^=!:${}()|[\]\/\\])/g}),t.define("/src/shape.js",function(t,e,r){"use strict";var n=t("./patterns"),u=t("./tests"),i=t("lodash"),a=String.prototype.trim,o=String.prototype.trimRight,f=String.prototype.trimLeft,s=function(t){return i.isNull(t)?"\\s":t.source?t.source:"["+r.escapeRegExp(t)+"]"};r.toHexColor=function(t){var e=16;if(u.startsWith(t,"rgb")){var a=[],o=t.replace(/[^0-9,]/g,"");return i.each(o.split(","),function(t){var n=parseInt(t,10),u=n.toString(e);a.push(r.pad(u,2,"0",-1))}),a.join("")}var f=t.replace(RegExp(n.HEXPATTERN.source),"");return r.pad(f.toLowerCase(),6,"0",-1)},r.toAlphanumeric=function(t){return t.replace(RegExp(n.ANUMPATTERN.source,"g"),"")},r.camelize=function(t){return t.replace(n.CAPITALSPATTERN,function(t,e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}).replace(n.SEPARATORS,function(t,e){return e.toUpperCase()})},r.group=function(t,e,r){if((!e||1>e)&&(e=20),!r||e>t.length)return t;for(var n=[],u=0;t.length>u;u+=e){var i=t.substring(u,u+e);n.push(i),n.push(r)}return n.join("")},r.unwrap=function(t,e,r){return r=r||"",t=t.replace(n.LINEBREAKS,r),e===!0?t.replace(n.BRTAGS,r):t},r.chop=function(t,e){return i.isNull(t)?[]:(t+="",e=~~e,e>0?t.match(RegExp(".{1,"+e+"}","g")):[t])},r.clean=function(t){return r.trim(t).replace(/\s+/g," ")},r.chars=function(t){return i.isNull(t)?[]:(t+"").split("")},r.swapCase=function(t){return i.isNull(t)?"":(t+"").replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})},r.splice=function(t,e,n,u){var i=r.chars(t);return i.splice(~~e,~~n,u),i.join("")},r.lines=function(t){return i.isNull(t)?[]:(t+"").split("\n")},r.reverse=function(t){return r.chars(t).reverse().join("")},r.succ=function(t){return i.isNull(t)?"":(t+="",t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1))},r.underscored=function(t){return r.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},r.dasherize=function(t){return r.trim(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},r.classify=function(t){return r.titleize((t+"").replace(/_/g," ")).replace(/\s/g,"")},r.humanize=function(t){return r.capitalize(r.underscored(t).replace(/_id$/,"").replace(/_/g," "))},r.insert=function(t,e,n){return r.splice(t,e,0,n)},r.trim=function(t){return i.isNull(t)?"":a?a.call(t):(t+"").replace(RegExp(/^\s+|\s+$/,"g"),"")},r.ltrim=function(t,e){return i.isNull(t)?"":!e&&f?f.call(t):(e=s(e),(t+"").replace(RegExp("^"+e+"+"),""))},r.rtrim=function(t,e){return i.isNull(t)?"":!e&&o?o.call(t):(e=s(e),(t+"").replace(RegExp(e+"+$"),""))},r.truncate=function(t,e,r){return i.isNull(t)?"":(t+="",r=r||"...",e=~~e,t.length>e?t.slice(0,e)+r:t)},r.escapeRegExp=function(t){return null===t?"":(t+"").replace(n.REGEXCHARS,"\\$1")},r.prune=function(t,e,n){if(i.isNull(t))return"";if(t+="",e=~~e,n=i.isEmpty(n)?"...":n+"",e>=t.length)return t;var u=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},a=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,u);return a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):r.rtrim(a.slice(0,a.length-1)),(a+n).length>t.length?t:t.slice(0,a.length)+n},r.words=function(t,e){return i.isEmpty(t)?[]:r.trim(t,e).split(e||/\s+/)},r.toSentence=function(t,e,n,u){e=e||", ",n=n||" and ";var i=t.slice(),a=i.pop();return t.length>2&&u&&(n=r.rtrim(e)+n),i.length?i.join(e)+n+a:a},r.toSentenceSerial=function(){var t=[].slice.call(arguments);return t[3]=!0,r.toSentence.apply(r,t)},r.slugify=function(t){if(i.isNull(t))return"";var e="ąàáäâãåæćęèéëêìíïîłńòóöôõøùúüûñçżź",n="aaaaaaaaceeeeeiiiilnoooooouuuunczz",u=RegExp(s(e),"g");return t=(t+"").toLowerCase().replace(u,function(t){var r=e.indexOf(t);return n.charAt(r)||"-"}),r.dasherize(t.replace(/[^\w\s-]/g,""))},r.surround=function(t,e){return[e,t,e].join("")},r.quote=function(t){return r.surround(t,'"')};var l=function(t,e){if(1>e)return"";for(var r="";e>0;)1&e&&(r+=t),e>>=1,t+=t;return r};r.pad=function(t,e,r,n){t=null===t?"":t+"",e=~~e;var u=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",n){case"right":return u=e-t.length,t+l(r,u);case"both":return u=e-t.length,l(r,Math.ceil(u/2))+t+l(r,Math.floor(u/2));default:return u=e-t.length,l(r,u)+t}},r.lpad=function(t,e,n){return r.pad(t,e,n)},r.rpad=function(t,e,n){return r.pad(t,e,n,"right")},r.lrpad=function(t,e,n){return r.pad(t,e,n,"both")};var c=function(t){var e=1*t||0;return e};r.toNumber=function(t,e){if(null===t||""===t)return 0;t+="";var r=c(c(t).toFixed(~~e));return 0!==r||t.match(/^0+$/)?r:Number.NaN},r.join=function(){var t=[].slice.call(arguments),e=t.shift();return null===e&&(e=""),t.join(e)},r.titleize=function(t){return null===t?"":(t+"").replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})},r.capitalize=function(t){return t=null===t?"":t+"",t.charAt(0).toUpperCase()+t.slice(1)},r.format=function(){for(var t=arguments[0],e=0;arguments.length-1>e;e++){var r=RegExp("\\{"+e+"\\}","gm");t=t.replace(r,arguments[e+1])}return t}}),t.define("/src/tests.js",function(t,e,r){"use strict";t("./shape");var n=t("lodash"),u=t("./patterns");r.isDateFormat=function(t){var e=Date.parse(t),r=!1;return isNaN(e)||(r=!0),r},r.isUrl=function(t){return u.URLPATTERN.test(t)},r.isHexColor=function(t){return 0===t.indexOf("#")&&(t=t.substring(1)),6===t.length&&!u.HEXPATTERN.test(t)},r.isAlphanumeric=function(t){return t.length&&!u.ANUMPATTERN.test(t)},r.isAlpha=function(t){return t.length&&!u.APATTERN.test(t)},r.isNumeric=function(t){return t.length&&!u.NUMPATTERN.test(t)},r.startsWith=function(t,e){return 0===t.indexOf(e)},r.endsWith=function(t,e){var r=t.length-e.length;return r>-1&&t.lastIndexOf(e)===r},r.contains=function(t,e,r){return r=r||0,t.indexOf(e,r)>-1},r.isEmail=function(t){return u.EMAILPATTERN.test(t)},r.getCommonPrefix=function(t,e){if(n.isNull(t)||n.isNull(e))return null;if(t.length>e.length&&0===t.indexOf(e))return e;if(e.length>t.length&&0===e.indexOf(t))return t;for(var r=Math.min(t.length,e.length),u=0;r>u;u++)if(t[u]!==e[u])return t.slice(0,u);return t.slice(0,r)},r.count=function(t,e){return n.isNull(t)||n.isNull(e)?0:(t+"").split(e).length-1},r.strRight=function(t,e){if(n.isNull(t))return"";t+="",e=n.isNull(e)?e:e+"";var r=e?t.indexOf(e):-1;return~r?t.slice(r+e.length,t.length):t},r.strRightBack=function(t,e){if(n.isNull(t))return"";t+="",e=n.isNull(e)?e:e+"";var r=e?t.lastIndexOf(e):-1;return~r?t.slice(r+e.length,t.length):t},r.strLeft=function(t,e){if(n.isNull(t))return"";t+="",e=n.isNull(e)?e:e+"";var r=e?t.indexOf(e):-1;return~r?t.slice(0,r):t},r.strLeftBack=function(t,e){if(n.isNull(t))return"";t+="",e=n.isNull(e)?e:""+e;var r=t.lastIndexOf(e);return~r?t.slice(0,r):t},r.levenshtein=function(t,e){if(null===t&&null===e)return 0;if(null===t)return(e+"").length;if(null===e)return(t+"").length;t+="",e+="";for(var r,n=null,u=[],i=0;e.length>=i;i++)for(var a=0;t.length>=a;a++)r=i&&a?t.charAt(a-1)===e.charAt(i-1)?n:Math.min(u[a],u[a-1],n)+1:i+a,n=u[a],u[a]=r;return u.pop()}}),t.define("/src/sprintf.js",function(t,e,r){"use strict";[].slice;var n=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function e(t,e){for(var r=[];e>0;r[--e]=t);return r.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,u){var i,a,o,f,s,l,c,p=1,h=r.length,g="",v=[];for(a=0;h>a;a++)if(g=t(r[a]),"string"===g)v.push(r[a]);else if("array"===g){if(f=r[a],f[2])for(i=u[p],o=0;f[2].length>o;o++){if(!i.hasOwnProperty(f[2][o]))throw n('[sprintf] property "%s" does not exist',f[2][o]);i=i[f[2][o]]}else i=f[1]?u[f[1]]:u[p++];if(/[^s]/.test(f[8])&&"number"!==t(i))throw n("[sprintf] expecting number but found %s",t(i));switch(f[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=f[7]?i.toExponential(f[7]):i.toExponential();break;case"f":i=f[7]?parseFloat(i).toFixed(f[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i+="")&&f[7]?i.substring(0,f[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(f[8])&&f[3]&&i>=0?"+"+i:i,l=f[4]?"0"===f[4]?"0":f[4].charAt(1):" ",c=f[6]-(i+"").length,s=f[6]?e(l,c):"",v.push(f[5]?i+s:s+i)}return v.join("")},r.cache={},r.parse=function(t){for(var e=t,r=[],n=[],u=0;e;){if(null!==(r=/^[^\x25]+/.exec(e)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(e)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw"[sprintf] huh?";if(r[2]){var i=[],a=r[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(i.push(o[1]);""!==(a=a.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(a)))i.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";i.push(o[1])}r[2]=i}else u|=2;if(3===u)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(r)}e=e.substring(r[0].length)}return n},r}(),u=function(t,e){return e.unshift(t),n.apply(null,e)};r.sprintf=n,r.vsprintf=u}),t.define("/index.js",function(t,e,r){"use strict";var n=t("lodash"),u=t("./src/base64"),i=t("./src/binary"),a=t("./src/generators"),o=t("./src/html"),f=t("./src/patterns"),s=t("./src/shape"),l=t("./src/sprintf"),c=t("./src/tests");n.extend(r,u,i,a,o,f,s,l,c),function(t){(function(t){t.strings=r})(t.ink=t.ink||{})}(this)}),t("/index.js")})();